<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.my.evc.mapper.ScoreMapper">

	<insert id="create" parameterType="com.my.evc.model.Score" keyProperty="id" useGeneratedKeys="true">
		insert into score
			(student_number,exam_id,chinese,math,english,physics,chemistry,
			biologic,politics,history,geography,physical,experiment,score1,score2) 
		values
			(#{studentNumber},#{examId},#{chinese},#{math},
			#{english},#{physics},#{chemistry},
			#{biologic},#{politics},#{history},#{geography},
			#{physical},#{experiment},#{score1},#{score2})
	</insert>
	
	<insert id="createBatch" parameterType="java.util.List">
		insert into score
			(student_number,exam_id,chinese,math,english,physics,chemistry,
			biologic,politics,history,geography,physical,experiment,score1,score2) 
		values
		<!-- 对于List类型的参数，这里的collection直接写list就好 -->
		<foreach collection="list" item="item" index="index" separator=",">
			(#{item.studentNumber},#{item.examId},#{item.chinese},#{item.math},
			#{item.english},#{item.physics},#{item.chemistry},
			#{item.biologic},#{item.politics},#{item.history},#{item.geography},
			#{item.physical},#{item.experiment},#{item.score1},#{item.score2})
		</foreach>
	</insert>
	
	<delete id="delete" parameterType="int">
		delete from score where id=#{id}
	</delete>
	
	<update id="update" parameterType="com.my.evc.model.Score">
		update score 
		set 
			student_number=#{studentNumber},
			exam_id=#{examId},
			chinese=#{chinese},
			math=#{math},
			english=#{english},
			physics=#{physics},
			chemistry=#{chemistry},
			biologic=#{biologic},
			politics=#{politics},
			history=#{history},
			geography=#{geography},
			physical=#{physical},
			experiment=#{experiment},
			score1=#{score1},
			score2=#{score2}
		where 
			id=#{id}
	</update>
	
	<sql id="all_fields">
		student_number as studentNumber,
		exam_id as examId,
		chinese as chinese,
		math as math,
		english as english,
		physics as physics,
		chemistry as chemistry,
		biologic as biologic,
		politics as politics,
		history as history,
		geography as geography,
		physical as physical,
		experiment as experiment,
		score1 as score1,
		score2 as score2
	</sql>
	
	<select id="find" parameterType="int" resultType="com.my.evc.model.Score">
		select
			<include refid="all_fields"/>
		from score where id=#{id}
	</select>
</mapper>